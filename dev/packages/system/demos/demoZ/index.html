<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>demoZ · MAVs</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../../../../assets/documenter.js"></script><script src="../../../../siteinfo.js"></script><script src="../../../../../versions.js"></script><link href="../../../../assets/documenter.css" rel="stylesheet" type="text/css"/><link href="../../../../assets/style.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>MAVs</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../../../../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../../../../">Home</a></li><li><span class="toctext">Usage</span><ul><li><a class="toctext" href="../../../../tutorials/basic/">Basic usage</a></li><li><a class="toctext" href="../../../../tutorials/developer/">Developing MAVs</a></li></ul></li><li><span class="toctext">Sensing</span><ul><li><a class="toctext" href="../../../model/gazebo/vehicle_description/main/">vehicle_description</a></li><li><a class="toctext" href="../../../model/gazebo/contact_sensor/main/">contact_sensor</a></li></ul></li><li><span class="toctext">Detection</span><ul><li><a class="toctext" href="../../../computing/perception/obstacle_detector/main/">obstacle_detector</a></li></ul></li><li><span class="toctext">Vehicle model</span><ul><li><a class="toctext" href="../../../model/chrono/ros_chrono/main/">ros_chrono</a></li></ul></li><li><span class="toctext">Planning</span><ul><li><a class="toctext" href="../../../computing/planning/nloptcontrol_planner/main/">nloptcontrol_planner</a></li><li><a class="toctext" href="../../../computing/planning/mavs_ros_planner/main/">mavs<em>ros</em>planner</a></li></ul></li><li><span class="toctext">Controller</span><ul><li><a class="toctext" href="../../../computing/controller/path_follower/main/">path_follower</a></li><li><a class="toctext" href="../../../computing/controller/trajectory_follower/main/">trajectory_follower</a></li></ul></li><li><span class="toctext">Miscellaneous</span><ul><li><a class="toctext" href="../../system_shutdown/">system_shutdown</a></li><li><a class="toctext" href="../../data_logging/">data_logging</a></li><li><a class="toctext" href="../../../model/chrono/chrono_position_broadcaster/main/">chrono<em>position</em>broadcaster</a></li><li><a class="toctext" href="../../../computing/perception/point_cloud_converter/">point<em>cloud</em>converter</a></li></ul></li><li><span class="toctext">System demos</span><ul><li><a class="toctext" href="../demoI/">demoI</a></li><li><a class="toctext" href="../demoM/">demoM</a></li><li><a class="toctext" href="../demoK/">demoK</a></li><li class="current"><a class="toctext" href>demoZ</a><ul class="internal"><li><a class="toctext" href="#To-Run-1">To Run</a></li><li><a class="toctext" href="#Expected-Output-1">Expected Output</a></li></ul></li></ul></li><li><span class="toctext">Docker</span><ul><li><a class="toctext" href="../../../../docker/workflow/">Workflow</a></li><li><a class="toctext" href="../../../../docker/notes/">Notes</a></li></ul></li><li><a class="toctext" href="../../../../testing/main/">Testing</a></li><li><a class="toctext" href="../../../../issues/main/">Troubleshooting</a></li></ul></nav><article id="docs"><header><nav><ul><li>System demos</li><li><a href>demoZ</a></li></ul><a class="edit-page" href="https://github.com/JuliaMPC/MAVs/blob/master/docs/src/packages/system/demos/demoZ.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>demoZ</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="demoZ-1" href="#demoZ-1">demoZ</a></h1><p>In this demo, the vehicle follows a path autonomously, which is generated by <code>nloptcontrol_planner</code> and helps the vehicle to avoid obstacles. The obstacles in this demo is assumed to be unknown, where a 2D LiDAR model is used to detect the position of obstacles and feedback this information to <code>nloptcontrol_planner</code>. The controller in demoZ is path<em>follower which is based on Pure Pursuit. This demo utilizes the command <code>x</code>, <code>y</code>, <code>ux</code> from `nloptcontrol</em>planner`.</p><h2><a class="nav-anchor" id="To-Run-1" href="#To-Run-1">To Run</a></h2><pre><code class="language-none">$ roslaunch system demoZ.launch</code></pre><p>This may take a long time to initialize.</p><h2><a class="nav-anchor" id="Expected-Output-1" href="#Expected-Output-1">Expected Output</a></h2><p>The output of this demo should be similar to the figure below. <code>Running model for the: xxx time</code> shows the current step time. </p><p><img src="demoZ.png" alt="link"/></p><p>For the numeric results, if you run demoZ with case 5 and planner new, you should expect the reuslts shown in the following figure. In this figure, the black circle shows the 2D geometry of obstacle. The right five figures show velocity, steering angle, velocity control effort, steering control effort and solving time. The solve time depends on the hardware so the real one may different from the one we shown below.</p><p><img src="demoZ_s5_new.png" alt="link"/></p><p>The relationship between different topics/topics is checked by opening a new terminal, and enter the docker by</p><pre><code class="language-none">$ docker exec -it &lt;container_name&gt; /bin/bash</code></pre><p><code>&lt;container_name&gt;</code> can be auto filled by the <code>Tab</code> key. Then, open the rqt graph by</p><pre><code class="language-none">$ rqt_graph</code></pre><p>The output of <code>rqt_graph</code> is shown below. <code>nlopcontrol_planner/control</code> communicates with <code>/obstacle_avoidance</code>.</p><p><img src="demoZ_rqt.png" alt="link"/></p><footer><hr/><a class="previous" href="../demoK/"><span class="direction">Previous</span><span class="title">demoK</span></a><a class="next" href="../../../../docker/workflow/"><span class="direction">Next</span><span class="title">Workflow</span></a></footer></article></body></html>
